(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,_=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&_.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(_.length)_.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},s=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},1491:function(t,e,r){t.exports=r.p+"img/03.00f31d25.jpg"},"1cfa":function(t,e,r){"use strict";var n=r("383b"),a=r.n(n);a.a},"1d55":function(t,e,r){t.exports=r.p+"img/07.ea12f565.jpg"},"261b":function(t,e,r){t.exports=r.p+"img/01.36e37a8b.jpg"},2988:function(t,e,r){},"2dc9":function(t,e,r){"use strict";var n=r("440a"),a=r.n(n);a.a},"383b":function(t,e,r){},"386c":function(t,e,r){},"440a":function(t,e,r){},"4d1d":function(t,e,r){t.exports=r.p+"img/05.788279d8.jpg"},"546a":function(t,e,r){t.exports=r.p+"img/5.10ed5101.jpg"},"569e":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("h3",[t._v("ОТЕЛИ")]),r("v-main-hotel")],1)},s=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"v-hotel-main"},[r("keep-alive",[r("router-view")],1)],1)},o=[],c={name:"v-hotel-main",data:function(){return{}},components:{},props:{},computed:{},methods:{},watch:{},mounted:function(){}},l=c,u=(r("ee4d"),r("2877")),d=Object(u["a"])(l,i,o,!1,null,null,null),_=d.exports,p={name:"App",components:{vMainHotel:_}},f=p,v=(r("034f"),Object(u["a"])(f,a,s,!1,null,null,null)),m=v.exports,h=r("5530"),g=r("2f62"),O={ADD_TO_ORDER:function(t,e){var r=t.commit;r("SET_ORDER",e)},DELETE_FROM_ORDER:function(t,e){var r=t.commit;r("REMOVE_FROM_ORDER",e)},DECREMENT_ORDER:function(t,e){var r=t.commit;r("DECREMENT",e)},INCREMENT_ORDER:function(t,e){var r=t.commit;r("INCREMENT",e)}},b=r("bc3a"),E=r.n(b),x={GET_HOTELS_FROM_JSON:function(t){var e=t.commit;return E()("http://localhost:3000/hotels",{method:"GET"}).then((function(t){return e("SET_HOTELS_TO_STATE",t.data),t})).catch((function(t){return console.log(t),t}))}},y=(r("d81d"),r("a434"),r("b0c0"),{SET_HOTELS_TO_STATE:function(t,e){t.hotels=e},SET_ORDER:function(t,e){if(t.order.length){var r=!1;t.order.map((function(t){e.name===t.name&&(r=!0,t.quantity++)})),r||t.order.push(e)}else t.order.push(e)},REMOVE_FROM_ORDER:function(t,e){t.order.splice(e,1)},DECREMENT:function(t,e){t.order[e].quantity>1&&t.order[e].quantity--},INCREMENT:function(t,e){t.order[e].quantity++}}),R={HOTELS:function(t){return t.hotels},ORDER:function(t){return t.order}},j=Object(h["a"])(Object(h["a"])({},O),x);n["default"].use(g["a"]);var C=new g["a"].Store({state:{hotels:[],order:[]},mutations:y,actions:j,getters:R}),w=C,T=(r("569e"),r("5f5b")),P=r("b1e0"),D=r("8c4f"),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"v-hotel-list"},[r("h4",[t._v("Список отелей")]),r("router-link",{attrs:{to:{name:"order",params:{order_data:t.ORDER}}}},[r("div",{staticClass:"ml-auto v-hotel-list__link_to_order"},[t._v("Отели, бронь: "+t._s(t.ORDER.length))])]),r("div",{staticClass:"row align-items-start"},[r("div",{staticClass:"filters col-3"},[r("div",[r("h5",[t._v("Отель/Апартаменты")]),r("b-form-select",{staticStyle:{width:"150px"},attrs:{selected:t.selected_type,options:t.categories},model:{value:t.selected_type,callback:function(e){t.selected_type=e},expression:"selected_type"}})],1),r("br"),r("div",[r("h5",[t._v("Страна")]),r("b-form-select",{staticStyle:{width:"150px"},attrs:{selected:t.selected_country,options:t.countries},model:{value:t.selected_country,callback:function(e){t.selected_country=e},expression:"selected_country"}})],1),r("br"),r("br"),r("h5",[t._v("Цены")]),r("br"),r("div",{staticClass:"range-slider"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.minPrice,expression:"minPrice"}],attrs:{type:"range",min:"0",max:"5000",step:"100"},domProps:{value:t.minPrice},on:{change:t.setRangeSlider,__r:function(e){t.minPrice=e.target.value}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.maxPrice,expression:"maxPrice"}],attrs:{type:"range",min:"0",max:"5000",step:"100"},domProps:{value:t.maxPrice},on:{change:t.setRangeSlider,__r:function(e){t.maxPrice=e.target.value}}})]),r("div",{staticClass:"range-values"},[r("p",[t._v("Min: "+t._s(t.minPrice))]),r("p",[t._v("Max: "+t._s(t.maxPrice))])]),r("div",[r("b-form-group",{attrs:{label:""}},[r("h5",[t._v("✯✯✯✯✯")]),r("b-form-checkbox-group",{attrs:{options:t.options_star,name:"stars",stacked:""},model:{value:t.selected_star,callback:function(e){t.selected_star=e},expression:"selected_star"}})],1)],1),r("div",[r("h5",[t._v("Отзывы")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.reviews,expression:"reviews"}],staticStyle:{height:"40px"},attrs:{type:"number",min:"0",oninput:"this.value=this.value.replace(/[^0-9]/g,'');"},domProps:{value:t.reviews},on:{input:function(e){e.target.composing||(t.reviews=e.target.value)}}})]),r("br"),r("div",{staticClass:"row"},[r("button",{staticClass:"btn",staticStyle:{"margin-right":"5px"},on:{click:t.reset}},[t._v("Сбросить")]),r("button",{staticClass:"btn",on:{click:t.exec}},[t._v("Выполнить")])])]),r("div",{staticClass:"v-hotel-list__list col-9"},[t._m(0),t._l(t.chunc,(function(e){return r("v-hotel-detail",{key:e.name,attrs:{id:"rowHotels",hotel_data:e},on:{addToOrder:t.addToOrder}})})),t.sortedHotels.length>0?r("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,pills:""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):r("div",[r("hr"),r("h5",[t._v("Записей не найдено")])])],2)])],1)},H=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row",staticStyle:{"flex-wrap":"nowrap"}},[r("h6",{staticClass:"col-3"},[t._v("Отель")]),r("h6",{staticClass:"col-2"},[t._v("Страна")]),r("h6",{staticClass:"col-1"},[t._v("Звезды")]),r("h6",{staticClass:"col-2"},[t._v("Тип")]),r("h6",{staticClass:"col-1"},[t._v("Цена")]),r("h6",{staticStyle:{width:"60px"}},[t._v("Отзывы")]),r("h6",{staticClass:"col-2"},[t._v("Бронь")])])}],M=(r("4de4"),r("fb6a"),r("ac1f"),r("96cf"),r("1da1")),k=r("2909"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-hotel-details"},[n("div",{staticClass:"row"},[n("img",{staticClass:"col-1 v-hotel-details__image",attrs:{src:r("7584")("./"+t.hotel_data.image),alt:"img"}}),n("p",{staticClass:"col-2 v-hotel-details__name"},[t._v(t._s(t.hotel_data.name))]),n("p",{staticClass:"col-2 v-hotel-details__country"},[t._v(t._s(t.hotel_data.country))]),n("p",{staticClass:"col-1 v-hotel-details__stars"},[t._v(t._s(t.hotel_data.stars))]),n("p",{staticClass:"col-2 v-hotel-details__type"},[t._v(t._s(t.hotel_data.type))]),n("p",{staticClass:"col-1 v-hotel-details__min_price"},[t._v(t._s(t.hotel_data.min_price)+" "+t._s(t.hotel_data.currency))]),n("p",{staticClass:"col-1 v-hotel-details__reviews_amount"},[t._v(t._s(t.hotel_data.reviews_amount))]),n("button",{staticClass:"ml-auto v-hotel-details__make_order btn",staticStyle:{width:"90px"},on:{click:t.addToOrder}},[t._v("Бронь ")])])])},F=[],$={name:"v-hotel-details",data:function(){return{}},components:{},props:{hotel_data:{type:Object,default:function(){return{}}}},computed:{},methods:{addToOrder:function(){this.$emit("addToOrder",this.hotel_data)}}},L=$,q=(r("2dc9"),Object(u["a"])(L,N,F,!1,null,null,null)),A=q.exports,I={name:"v-hotel-list",data:function(){return{perPage:3,currentPage:1,reviews:0,sortedHotels:[],minPrice:0,maxPrice:5e3,categories:[{text:"Все",value:"Все"},{text:"Отель",value:"Отель"},{text:"Апартаменты",value:"Апартаменты"}],selected_type:"Все",countries:[{text:"Все",value:"Все"},{text:"Греция",value:"Греция"},{text:"Италия",value:"Италия"}],selected_country:"Все",selected_star:[],options_star:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4},{text:"5",value:5}]}},components:{vHotelDetail:A},props:{},computed:Object(h["a"])(Object(h["a"])({},Object(g["c"])(["HOTELS","ORDER"])),{},{rows:function(){return this.filteredHotels.length},filteredHotels:function(){return this.sortedHotels},chunc:function(){var t=(this.currentPage-1)*this.perPage;return this.filteredHotels.slice(t,t+this.perPage)}}),methods:Object(h["a"])(Object(h["a"])({},Object(g["b"])(["GET_HOTELS_FROM_JSON","ADD_TO_ORDER"])),{},{setRangeSlider:function(){if(this.minPrice>this.maxPrice){var t=this.maxPrice;this.maxPrice=this.minPrice,this.minPrice=t}},exec:function(){this.selectFilters()},selectFilters:function(){var t=this;if(this.sortedHotels=Object(k["a"])(this.HOTELS),"Все"!==this.selected_type&&(this.sortedHotels=this.sortedHotels.filter((function(e){return e.type===t.selected_type}))),"Все"!==this.selected_country&&(this.sortedHotels=this.sortedHotels.filter((function(e){return e.country===t.selected_country}))),this.sortedHotels=this.sortedHotels.filter((function(e){return e.min_price>=t.minPrice&&e.min_price<=t.maxPrice})),t.selected_star.length>0){var e=[];t.selected_star.map((function(r){t.sortedHotels.map((function(t){t.stars===r&&e.push(t)}))})),t.sortedHotels=e}this.sortedHotels=this.sortedHotels.filter((function(e){return e.reviews_amount>=t.reviews}))},reset:function(){var t=this;t.selected_country="Все",t.selected_type="Все",t.selected_star=[],t.minPrice=0,t.maxPrice=5e3,t.reviews=0,this.selectFilters()},addToOrder:function(t){this.ADD_TO_ORDER(t)}}),mounted:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.GET_HOTELS_FROM_JSON();case 2:t.exec();case 3:case"end":return e.stop()}}),e)})))()}},J=I,G=(r("1cfa"),Object(u["a"])(J,S,H,!1,null,null,null)),U=G.exports,V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"v-order"},[r("h3",{directives:[{name:"show",rawName:"v-show",value:t.order_data.length,expression:"order_data.length"}]},[t._v("Order")]),r("router-link",{attrs:{to:{name:"hotels"}}},[r("div",{staticClass:"ml-auto v-hotel-list__link_to_order"},[t._v("Назад")])]),t.order_data.length?t._e():r("p",[t._v("Отели не забронированы...")]),t._l(t.order_data,(function(e,n){return r("v-order-details",{key:e.name,attrs:{order_details_data:e},on:{deleteFromOrder:function(e){return t.deleteFromOrder(n)},decrement:function(e){return t.decrement(n)},increment:function(e){return t.increment(n)}}})})),r("div",{staticClass:"v-order__total"},[r("p",{staticClass:"total__name"},[t._v("Total:")]),r("p",[t._v(t._s(t.myRound(t.orderTotalCost))+" ₽")])])],2)},z=[],B=(r("13d5"),r("b680"),r("b85c")),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-order-details row"},[n("div",{staticClass:"col-1"},[n("img",{staticClass:"m-4 v-order-details__image",attrs:{src:r("7584")("./"+t.order_details_data.image),alt:"img"}})]),n("div",{staticClass:"col-2"},[n("p",[t._v(t._s(t.order_details_data.name))])]),n("div",{staticClass:"col-2"},[n("p",[t._v(t._s(t.order_details_data.type))])]),n("div",{staticClass:"col-2"},[n("p",[t._v(t._s(t.order_details_data.min_price))])]),n("div",{staticClass:"col-2 v-order-details__quantity"},[n("p",[t._v("Количество персон: ")]),n("span",[n("span",{staticClass:"quantity__btn",on:{click:t.decrementOrder}},[t._v("-")]),t._v(" "+t._s(t.order_details_data.quantity)+" "),n("span",{staticClass:"quantity__btn",on:{click:t.incrementOrder}},[t._v("+")])])]),n("button",{staticClass:"ml-auto btn",on:{click:t.deleteFromOrder}},[t._v("Delete")])])},Q=[],W={name:"v-order-details",data:function(){return{}},components:{},props:{order_details_data:{type:Object,default:function(){return{}}}},computed:{},methods:{decrementOrder:function(){this.$emit("decrement")},incrementOrder:function(){this.$emit("increment")},deleteFromOrder:function(){this.$emit("deleteFromOrder")}},mounted:function(){this.$set(this.order_details_data,"quantity",1)}},X=W,Y=(r("eef2"),Object(u["a"])(X,K,Q,!1,null,null,null)),Z=Y.exports,tt={name:"v-order",data:function(){return{}},components:{vOrderDetails:Z},props:{order_data:{type:Array,default:function(){return[]}}},computed:{orderTotalCost:function(){var t=[];if(this.order_data.length){var e,r=Object(B["a"])(this.order_data);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.min_price*n.quantity)}}catch(a){r.e(a)}finally{r.f()}return t=t.reduce((function(t,e){return t+e})),t}return 0}},methods:Object(h["a"])(Object(h["a"])({},Object(g["b"])(["DELETE_FROM_ORDER","DECREMENT_ORDER","INCREMENT_ORDER"])),{},{decrement:function(t){this.DECREMENT_ORDER(t)},increment:function(t){this.INCREMENT_ORDER(t)},deleteFromOrder:function(t){this.DELETE_FROM_ORDER(t)},myRound:function(t){return t.toFixed(0)}})},et=tt,rt=(r("afdf"),Object(u["a"])(et,V,z,!1,null,null,null)),nt=rt.exports;n["default"].use(D["a"]);var at=new D["a"]({routes:[{path:"/",name:"hotels",component:U},{path:"/order",name:"order",component:nt,props:!0}]}),st=at;n["default"].config.productionTip=!1,n["default"].use(T["a"]),n["default"].use(P["a"]),new n["default"]({render:function(t){return t(m)},store:w,router:st}).$mount("#app")},"593c":function(t,e,r){t.exports=r.p+"img/2.c0e693f1.jpg"},"593d":function(t,e,r){t.exports=r.p+"img/04.1f806b05.jpg"},"677a":function(t,e,r){t.exports=r.p+"img/06.e9e7d3ec.jpg"},6800:function(t,e,r){t.exports=r.p+"img/3.50e4c188.jpg"},7584:function(t,e,r){var n={"./01.jpg":"261b","./02.jpg":"bd3c","./03.jpg":"1491","./04.jpg":"593d","./05.jpg":"4d1d","./06.jpg":"677a","./07.jpg":"1d55","./1.jpg":"98a8","./2.jpg":"593c","./3.jpg":"6800","./4.jpg":"ffd7","./5.jpg":"546a","./6.jpeg":"f5db"};function a(t){var e=s(t);return r(e)}function s(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=s,t.exports=a,a.id="7584"},"85ec":function(t,e,r){},"98a8":function(t,e,r){t.exports=r.p+"img/1.dc055ef9.jpg"},afdf:function(t,e,r){"use strict";var n=r("2988"),a=r.n(n);a.a},b486:function(t,e,r){},bd3c:function(t,e,r){t.exports=r.p+"img/02.36b6828f.jpg"},ee4d:function(t,e,r){"use strict";var n=r("386c"),a=r.n(n);a.a},eef2:function(t,e,r){"use strict";var n=r("b486"),a=r.n(n);a.a},f5db:function(t,e,r){t.exports=r.p+"img/6.da5781a0.jpeg"},ffd7:function(t,e,r){t.exports=r.p+"img/4.51942487.jpg"}});
//# sourceMappingURL=app.c05aab9f.js.map